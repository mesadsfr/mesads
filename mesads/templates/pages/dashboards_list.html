{% extends "base.html" %}

{% block title %}Dashboards d'administration{% endblock %}

{% block body %}

<nav role="navigation" class="fr-breadcrumb" aria-label="vous êtes ici :">
  <button class="fr-breadcrumb__button" aria-expanded="false" aria-controls="breadcrumb-1">Voir le fil d’Ariane</button>
  <div class="fr-collapse" id="breadcrumb-1">
    <ol class="fr-breadcrumb__list">
      <li>
        <a class="fr-breadcrumb__link" aria-current="page">Dashboards</a>
      </li>
    </ol>
  </div>
</nav>

<p>
    Cette page n'est accessible qu'aux membres de l'équipe <i>Mes ADS</i>. Elle présente des statistiques utiles au déploiement du projet.
</p>

<div class="fr-table fr-table--bordered">
    <table>
        <caption>Statistiques par préfecture</caption>
        <thead>
            <tr>
                <th>&nbsp;</th>
                <th style="text-align:center; border-bottom:1px solid #000" colspan="4">Nombre d'ADS</th>
                <th style="text-align:center; border-bottom:1px solid #000" colspan="4">Nombre de gestionnaires</th>
            </tr>
            <tr>
                <th></th>

                <th>Ajd.</th>
                <th>Il y a 3 mois</th>
                <th>… 6 mois</th>
                <th>… 12 mois</th>

                <th>Ajd.</th>
                <th>Il y a 3 mois</th>
                <th>… 6 mois</th>
                <th>… 12 mois</th>
            </tr>
        </thead>
        <tbody>
            {% for row in stats %}
            <tr>
                <td><a href="{% url 'dashboards.detail' ads_manager_administrator_id=row.obj.id %}">{{ row.obj.prefecture }}</a></td>

                <td>{{ row.ads.now|default:"-" }}</td>
                <td>{{ row.ads.3_months|default:"-" }}</td>
                <td>{{ row.ads.6_months|default:"-" }}</td>
                <td>{{ row.ads.12_months|default:"-" }}</td>

                <td>{{ row.ads_managers.now|default:"-" }}</td>
                <td>{{ row.ads_managers.3_months|default:"-" }}</td>
                <td>{{ row.ads_managers.6_months|default:"-" }}</td>
                <td>{{ row.ads_managers.12_months|default:"-" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}